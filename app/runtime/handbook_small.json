{
  "meta": {
    "generatedAt": "2025-09-05T15:47:20Z",
    "forms_total": 868,
    "thresholds": {
      "required": 0.85,
      "recommended": 0.5
    }
  },
  "section_style": {
    "derived": [
      "Top-level section uses subcategory=\"QUESTIONNAIRE\"."
    ],
    "rules": []
  },
  "item_types": {
    "": {
      "type": "",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No <c> or <cNote> present; these are likely system or placeholder items."
        }
      ],
      "validators_common": [],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "appearance",
          "label": "Appearance"
        }
      ]
    },
    "APPROXIMATE_DATE": {
      "type": "APPROXIMATE_DATE",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No APPROXIMATE_DATE items use validators."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No APPROXIMATE_DATE items use hints."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No validators or hints used."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No hints used."
        },
        {
          "rule": "Omitting <c> or <cNote>."
        },
        {
          "rule": "No validators present."
        }
      ],
      "validators_common": [
        "Mandatory"
      ],
      "hints_common": [
        "Min_acuity_weeks",
        "Min_acuity_years",
        "Min_acuity_weeks (seen on last_eye_exam)"
      ],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "lmp1",
          "label": "When did your last menstrual period start?"
        },
        {
          "ref": "date_received",
          "label": "Approximately when did you have it?"
        }
      ]
    },
    "APPROXIMATE_DURATION": {
      "type": "APPROXIMATE_DURATION",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No hints used."
        },
        {
          "rule": "No hints are present."
        },
        {
          "rule": "No validators or hints used."
        },
        {
          "rule": "No hints present."
        }
      ],
      "validators_common": [
        "Mandatory"
      ],
      "hints_common": [
        "Min_acuity_weeks"
      ],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "discomfort_for1",
          "label": "How long have you had this discomfort?"
        },
        {
          "ref": "hirsutism_for",
          "label": "How long has the hair growth been a problem?"
        }
      ]
    },
    "ASSESSMENT": {
      "type": "ASSESSMENT",
      "required": [],
      "recommended": [
        {
          "rule": "All ASSESSMENT items have a <c> label."
        }
      ],
      "anti_patterns": [
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No <cNote>."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No points or scoring attributes are present."
        },
        {
          "rule": "Omitting <c>."
        },
        {
          "rule": "Adding <cNote> (none present)."
        },
        {
          "rule": "Adding validators (none present)."
        },
        {
          "rule": "No validators, hints, or choice elements are used with ASSESSMENT items."
        },
        {
          "rule": "ASSESSMENT items do not use validators."
        }
      ],
      "validators_common": [],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "drinking",
          "label": "drinking"
        },
        {
          "ref": "weight_loss_nyd",
          "label": "weight loss NYD"
        }
      ]
    },
    "CHECKBOX": {
      "type": "CHECKBOX",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No CHECKBOX items use validators."
        },
        {
          "rule": "No CHECKBOX items use hints."
        },
        {
          "rule": "No CHECKBOX items use cNote."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "CHECKBOX items do not use hints."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "CHECKBOX items do not use validators."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Script",
        "Mandatory (required for 43/44 checkbox items the exception is a conditional/optional item).",
        "Script (27/925)",
        "Mandatory (1/925)"
      ],
      "hints_common": [
        "Tooltip used for some checkbox items to provide additional context.",
        "Border",
        "Grey_bg",
        "Individual_menu_option",
        "Js_menu_option"
      ],
      "choice_authoring": [
        "Each checkbox is a single option (not a group).",
        "Points are used for scoring (2.0 for symptoms 0.0 for 'none of the above')."
      ],
      "examples": [
        {
          "ref": "in_the_chest1",
          "label": "in the chest"
        },
        {
          "ref": "allOverAbdomen",
          "label": "all over the abdomen"
        }
      ]
    },
    "DATE": {
      "type": "DATE",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No DATE items use validators."
        },
        {
          "rule": "No DATE items use hints."
        },
        {
          "rule": "No DATE items use cNote."
        },
        {
          "rule": "DATE items do not use validators."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "DATE items do not use hints."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No validators used"
        },
        {
          "rule": "No hints used."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Mandatory (3/3)",
        "Mandatory (used for birth_date)",
        "Mandatory (allowempty=\"false\")",
        "Mandatory validator on 10/11."
      ],
      "hints_common": [
        "Empty <hints/> element is present."
      ],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "example_missing",
          "label": "No concrete example in provided XML segment, but present in form per digest."
        },
        {
          "ref": "example_missing",
          "label": "No example in provided segment; see digest for presence."
        }
      ]
    },
    "FILE_UPLOAD": {
      "type": "FILE_UPLOAD",
      "required": [],
      "recommended": [],
      "anti_patterns": [],
      "validators_common": [
        "Mandatory"
      ],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "form_upload",
          "label": "Upload Form:"
        },
        {
          "ref": "fileUpload",
          "label": "File:"
        }
      ]
    },
    "FINDING": {
      "type": "FINDING",
      "required": [],
      "recommended": [
        {
          "rule": "All FINDING items have a <c> label."
        }
      ],
      "anti_patterns": [
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No points or scoring attributes are present."
        },
        {
          "rule": "Omitting <c>."
        },
        {
          "rule": "Adding <cNote> (none present)."
        },
        {
          "rule": "Adding validators (none present)."
        },
        {
          "rule": "No validators, hints, or logic attributes (showIf/makeNoteIf) are used with FINDING items."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "FINDING items do not use validators."
        },
        {
          "rule": "No <cNote>, hints, or validators are present."
        }
      ],
      "validators_common": [],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "cachexia",
          "label": "cachexia"
        },
        {
          "ref": "suicidal_ideation",
          "label": "suicidal ideation"
        }
      ]
    },
    "FORMULA": {
      "type": "FORMULA",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No FORMULA items use validators."
        },
        {
          "rule": "No FORMULA items use hints."
        },
        {
          "rule": "No FORMULA items use cNote."
        },
        {
          "rule": "No FORMULA item uses a validator."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No FORMULA items have validators."
        },
        {
          "rule": "No FORMULA item uses validators."
        },
        {
          "rule": "No FORMULA item uses hints."
        },
        {
          "rule": "No FORMULA item has a validator."
        },
        {
          "rule": "No validators."
        }
      ],
      "validators_common": [],
      "hints_common": [
        "Use_buttons_for_menu (in one formula item)",
        "Use_buttons_for_menu",
        "Js_menu_option",
        "Same_line (observed in at least one formula).",
        "Use_buttons_for_menu (in one formula item)."
      ],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "partASum",
          "label": "@ASRS-A: $$ / 6"
        },
        {
          "ref": "partBSum",
          "label": "@ASRS-B: $$ / 12"
        }
      ]
    },
    "LABEL": {
      "type": "LABEL",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No LABEL items use validators."
        },
        {
          "rule": "No LABEL items use hints."
        },
        {
          "rule": "No LABEL items use cNote."
        },
        {
          "rule": "LABEL items do not use validators."
        },
        {
          "rule": "No LABEL items use cNote, posNote, or negNote."
        },
        {
          "rule": "LABEL items do not use cNote."
        },
        {
          "rule": "No LABEL items have validators."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No LABEL items use cNote, validators, or hints."
        }
      ],
      "validators_common": [
        "Script",
        "Script (rare 1/123)",
        "Script (rare 1 of 123)",
        "Script (1/123)",
        "Script validator used on 1/123 label items."
      ],
      "hints_common": [
        "Individual_menu_option",
        "Js_menu_option",
        "Individual_menu_option is sometimes used.",
        "Occasionally paired with section-level hints like white_bg but not directly on label items.",
        "Occasional use of hints for layout (e.g. white_bg border)."
      ],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "please_answer_the_qu",
          "label": "Please answer the questions below. As you answer each question, choose the answer that best describes how you have felt and conducted yourself over the past 6 months."
        },
        {
          "ref": "positive_screen_4_po",
          "label": "POSITIVE Screen (4+ positive questions in Part A). Symptoms are consistent with ADHD in adults. Further investigation is warranted."
        }
      ]
    },
    "MENU": {
      "type": "MENU",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No MENU items use validators."
        },
        {
          "rule": "No MENU items use hints."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No MENU items use points."
        },
        {
          "rule": "No MENU items omit points on choices."
        },
        {
          "rule": "No MENU items use points or scoring."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No MENU item omits points on any choice."
        },
        {
          "rule": "No MENU items use cNote."
        },
        {
          "rule": "No validators used."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Mandatory (all menu items)",
        "Mandatory (allowempty=\"false\")",
        "Mandatory (all 10 menu items)",
        "Mandatory (2/7)"
      ],
      "hints_common": [
        "Use_buttons_for_menu",
        "Vertical_stacking",
        "Border",
        "Use_dropdown_menu",
        "Use_buttons_for_menu (all menu items)"
      ],
      "choice_authoring": [
        "Minimum 2 choices per menu.",
        "All choices have points.",
        "No points attribute used.",
        "All menu items have at least 2 choices.",
        "All choices have points (points attribute always present)."
      ],
      "examples": [
        {
          "ref": "q1",
          "label": "1. How often do you have trouble wrapping up the final details of a project, once the challenging parts have been done?"
        },
        {
          "ref": "q18",
          "label": "18. How often do you interrupt others when they are busy?"
        }
      ]
    },
    "MENU_MULTI_SELECT": {
      "type": "MENU_MULTI_SELECT",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No MENU_MULTI_SELECT items use validators."
        },
        {
          "rule": "No MENU_MULTI_SELECT items use hints."
        },
        {
          "rule": "No MENU_MULTI_SELECT items use points."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No points assigned to choices."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No validators or hints are used."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Mandatory (6/21) for required multi-selects.",
        "Mandatory validator is used on 6/21 items typically when at least one selection is required.",
        "Mandatory (6/21).",
        "Mandatory (all 10/10 menu_multi_select items)"
      ],
      "hints_common": [
        "Use_buttons_for_menu",
        "Vertical_stacking",
        "Same_line",
        "Vertical_stacking is sometimes used for longer lists.",
        "Vertical_stacking for easier multi-select display."
      ],
      "choice_authoring": [
        "Minimum 2 choices per menu_multi_select.",
        "No points attribute used.",
        "All menu_multi_select items have at least 2 choices.",
        "All choices have points.",
        "No points attribute is used."
      ],
      "examples": [
        {
          "ref": "s__item1",
          "label": "Which anti-inflammatory do you use?"
        },
        {
          "ref": "diet",
          "label": "How would you describe your diet? (select all that apply)"
        }
      ]
    },
    "NO_YES_NOT_SURE": {
      "type": "NO_YES_NOT_SURE",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No validators used."
        },
        {
          "rule": "No hints used."
        },
        {
          "rule": "No NO_YES_NOT_SURE items use validators."
        },
        {
          "rule": "No NO_YES_NOT_SURE items use hints."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No validators or hints used."
        },
        {
          "rule": "No NO_YES_NOT_SURE items omit <c> or <cNote>."
        },
        {
          "rule": "Avoid using NO_YES_NOT_SURE for binary or multi-select scenarios."
        }
      ],
      "validators_common": [],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "hirsutism2",
          "label": "excess hair growth"
        },
        {
          "ref": "item98110890",
          "label": "Are you currently pregnant?"
        }
      ]
    },
    "NUMERIC_SCALE": {
      "type": "NUMERIC_SCALE",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No NUMERIC_SCALE items use validators."
        },
        {
          "rule": "No NUMERIC_SCALE items use hints."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No NUMERIC_SCALE items use cNote."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No NUMERIC_SCALE items omit points."
        },
        {
          "rule": "No NUMERIC_SCALE items omit the validator."
        },
        {
          "rule": "No NUMERIC_SCALE item omits points on choices."
        },
        {
          "rule": "No NUMERIC_SCALE item omits points."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Mandatory (allowempty=\"false\") is used on function interference items (qaqi).",
        "Mandatory (all numeric_scale items)",
        "Mandatory (with allowempty=\"true\")",
        "Mandatory (always present allowempty=\"true\")"
      ],
      "hints_common": [
        "Use_buttons_for_menu",
        "Vertical_stacking"
      ],
      "choice_authoring": [
        "All numeric_scale items have 11 choices ranging from 0 to 10.",
        "Points are always numeric and match the display value.",
        "Display text may include descriptive anchors (e.g. '0 - no pain' '10 - pain as bad as you can imagine').",
        "Val and display may differ (e.g. val='0 - no pain' display='0 - no pain').",
        "All numeric_scale items have 5 choices."
      ],
      "examples": [
        {
          "ref": "item98796965",
          "label": "Please use the scales below to indicate your feelings about treatment."
        },
        {
          "ref": "item94318499",
          "label": ""
        }
      ]
    },
    "PE_TEST": {
      "type": "PE_TEST",
      "required": [],
      "recommended": [],
      "anti_patterns": [],
      "validators_common": [],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "get_up_and_go_test",
          "label": "Get Up and Go Test"
        }
      ]
    },
    "PROPOSITION": {
      "type": "PROPOSITION",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No PROPOSITION items use validators."
        },
        {
          "rule": "No PROPOSITION items use hints."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No PROPOSITION items use cNote."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No hints used."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Mandatory (allowempty=\"false\")",
        "Mandatory (all proposition items)",
        "Mandatory (3/6)",
        "Mandatory (always present allowempty=\"false\")"
      ],
      "hints_common": [
        "No hints are used with proposition items in this form.",
        "Use_buttons_for_menu (rare e.g. for 'do you ever purge')",
        "Use_buttons_for_menu is used only for menu not proposition.",
        "No <hint> elements are present for any proposition."
      ],
      "choice_authoring": [
        "Not applicable: proposition items do not use choices."
      ],
      "examples": [
        {
          "ref": "vomiting1",
          "label": "vomiting"
        },
        {
          "ref": "are_you_sexually_act1",
          "label": "Are you sexually active?"
        }
      ]
    },
    "RX": {
      "type": "RX",
      "required": [],
      "recommended": [
        {
          "rule": "All RX items have a <c> label."
        }
      ],
      "anti_patterns": [
        {
          "rule": "No <cNote>."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No points or scoring attributes are present."
        },
        {
          "rule": "RX items do not use validators."
        }
      ],
      "validators_common": [],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "bupropion_zyban",
          "label": "bupropion (Zyban)"
        },
        {
          "ref": "megesterol_acetate",
          "label": "megesterol acetate"
        }
      ]
    },
    "TEXT_AREA": {
      "type": "TEXT_AREA",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No TEXT_AREA items use validators."
        },
        {
          "rule": "No TEXT_AREA items use hints."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No TEXT_AREA items use cNote."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No TEXT_AREA items use validators or hints."
        },
        {
          "rule": "No validators or hints are used."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Mandatory (2/9)",
        "Script",
        "Mandatory (1/8)",
        "Mandatory (3 of 10)"
      ],
      "hints_common": [
        "Same_line",
        "Border (at section level)",
        "Use_buttons_for_menu (not for text_area)",
        "Use_buttons_for_menu"
      ],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "otherSymptoms",
          "label": "Other symptoms of concern:"
        },
        {
          "ref": "flu_shot_concerns",
          "label": "If you have any concerns about the flu shot, please list them here:"
        }
      ]
    },
    "TEXT_FIELD": {
      "type": "TEXT_FIELD",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No TEXT_FIELD items use validators."
        },
        {
          "rule": "No TEXT_FIELD items use hints."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No TEXT_FIELD items use cNote."
        },
        {
          "rule": "No hints used."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No validators or hints are used."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Phone",
        "Email",
        "Reg_exp",
        "Mandatory (6/13)"
      ],
      "hints_common": [
        "Same_line",
        "Use_buttons_for_menu",
        "Use_buttons_for_menu (only for 'other' fields with choices).",
        "Use_buttons_for_menu (when acting as 'other' for menu_multi_select)",
        "Individual_menu_option"
      ],
      "choice_authoring": [
        "When used as 'other' field choices mirror the parent menu/menu_multi_select."
      ],
      "examples": [
        {
          "ref": "located__item1",
          "label": "elsewhere:"
        },
        {
          "ref": "country1",
          "label": "Which country?"
        }
      ]
    },
    "TEXT_FIELD_NUMERIC": {
      "type": "TEXT_FIELD_NUMERIC",
      "required": [],
      "recommended": [],
      "anti_patterns": [
        {
          "rule": "No TEXT_FIELD_NUMERIC items use validators."
        },
        {
          "rule": "No TEXT_FIELD_NUMERIC items use hints."
        },
        {
          "rule": "No validators are used."
        },
        {
          "rule": "No validators used."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No TEXT_FIELD_NUMERIC items use cNote."
        },
        {
          "rule": "No hints are used."
        },
        {
          "rule": "No hints used."
        },
        {
          "rule": "No choices or points."
        },
        {
          "rule": "No hints."
        }
      ],
      "validators_common": [
        "Mandatory",
        "Script",
        "Script (e.g. validif=\"_1_age.p >=18  _1_age.p <=44\")",
        "Reg_exp",
        "Mandatory (1/1)"
      ],
      "hints_common": [
        "Same_line"
      ],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "lowest",
          "label": "What was your lowest sugar reading in the past month?"
        },
        {
          "ref": "lowest_bp_this_month__item",
          "label": ""
        }
      ]
    },
    "TX": {
      "type": "TX",
      "required": [],
      "recommended": [
        {
          "rule": "All TX items have a <c> label."
        }
      ],
      "anti_patterns": [
        {
          "rule": "No <cNote>."
        },
        {
          "rule": "No validators."
        },
        {
          "rule": "No hints."
        },
        {
          "rule": "No validators or hints are used."
        },
        {
          "rule": "No points or scoring attributes are present."
        },
        {
          "rule": "No <cNote>, hints, or validators are present."
        }
      ],
      "validators_common": [],
      "hints_common": [],
      "choice_authoring": [],
      "examples": [
        {
          "ref": "discussed_5_a_s_of_s",
          "label": "discussed 5 A's of smoking cessation"
        },
        {
          "ref": "supportive_care",
          "label": "supportive care"
        }
      ]
    }
  },
  "scripting": {
    "constructs": [
      "uses_p_property",
      "logic_on_item"
    ],
    "idioms": [
      {
        "pattern": "Showif",
        "example": "showIf=\"false\""
      },
      {
        "pattern": "Makenoteif",
        "example": "makeNoteIf=\"ScriptUtil.isWebQ() || ScriptUtil.getTabletVersion() &gt;= 163\""
      },
      {
        "pattern": "Formula",
        "example": "formula=\"ScriptUtil.sum(nutriSTEPQs)\""
      },
      {
        "pattern": "Showif=\"false\"",
        "example": "<item ref=\"BP\" type=\"FORMULA\" showIf=\"false\" makeNoteIf=\"true\" formula=\"'' + BPSystolic.r + '/' + BPDiastolic.r\">"
      },
      {
        "pattern": "Makenoteif=\"true\"",
        "example": "makeNoteIf=\"true\" on <section ref=\"exam_required\">"
      },
      {
        "pattern": "Makenoteif=\"false\"",
        "example": "makeNoteIf=\"false\" on id_974492768088"
      },
      {
        "pattern": "Showif=\"{ref}.p = 0\"",
        "example": "showIf=\"usesCocaine.p != 0\""
      },
      {
        "pattern": "Showif=\"<expression>\"",
        "example": "showIf=\"insulin.p != 0\""
      },
      {
        "pattern": "Showif=\"itemref.p = 0\"",
        "example": "showIf=\"injured.p != 0\""
      },
      {
        "pattern": "Showif on item",
        "example": "item ref=\"past_medical_history__item\" type=\"TEXT_FIELD\" showIf=\"otherSkinDisorder.p != 0\""
      },
      {
        "pattern": "Showif=\"<ref>.p = 0\"",
        "example": "showIf=\"pSCQ1.p != 0\""
      },
      {
        "pattern": "Showif=\"{ref}.r == 'n'\"",
        "example": "showIf=\"smokes.r == 'N'\""
      }
    ]
  },
  "macros": [
    {
      "macro": "@ptCpp.rx",
      "contexts": [
        "TEXT_AREA emrField=\"medications\"",
        "Used in <text> for TEXT_AREA with emrField=\"medications\""
      ]
    },
    {
      "macro": "@ptCpp.allg",
      "contexts": [
        "TEXT_AREA emrField=\"allergies\"",
        "Used in <text> for TEXT_AREA with emrField=\"allergies\""
      ]
    },
    {
      "macro": "@ptCpp.prob",
      "contexts": [
        "TEXT_AREA emrField=\"problemList\"",
        "Used in <text> for TEXT_AREA with emrField=\"problemList\""
      ]
    },
    {
      "macro": "@ptCpp.pmhx",
      "contexts": [
        "TEXT_AREA emrField=\"pastMedicalHistory\"",
        "Used in <text> for TEXT_AREA with emrField=\"pastMedicalHistory\""
      ]
    },
    {
      "macro": "@ptCpp.fhx",
      "contexts": [
        "TEXT_AREA emrField=\"familyHistory\"",
        "Used in <text> for TEXT_AREA with emrField=\"familyHistory\""
      ]
    },
    {
      "macro": "@ptFirstName",
      "contexts": [
        "Used in <text> for TEXT_FIELD first_name",
        "Used in <text> for first_name TEXT_FIELD"
      ]
    },
    {
      "macro": "@ptSurname",
      "contexts": [
        "Used in <text> for TEXT_FIELD last_name",
        "Used in <text> for last_name TEXT_FIELD"
      ]
    },
    {
      "macro": "@ptBirthDate",
      "contexts": [
        "Used in <text> for DATE birth_date",
        "Used in <text> for birth_date DATE"
      ]
    },
    {
      "macro": "@ptLatestVal.wt",
      "contexts": [
        "Used in <text> for weight field",
        "TEXT_FIELD_NUMERIC for Weight"
      ]
    },
    {
      "macro": "@ptAddress1",
      "contexts": [
        "Used in <text> for TEXT_FIELD address",
        "Used as <text> for address line 1"
      ]
    },
    {
      "macro": "@ptEmail",
      "contexts": [
        "Used in <text> of the TEXT_FIELD for email address to prepopulate with patient's email.",
        "Used in LABEL display and TEXT_FIELD pre-population to show or reuse the patient's current email."
      ]
    },
    {
      "macro": "@ptMobilePhone",
      "contexts": [
        "Used in <text> for preferred phone field.",
        "Used in <text> element of TEXT_FIELD to prefill the patient's mobile phone number."
      ]
    },
    {
      "macro": "@ptCity",
      "contexts": [
        "Used as <text> for city"
      ]
    },
    {
      "macro": "@ptPostalCode",
      "contexts": [
        "Used as <text> for postal code"
      ]
    },
    {
      "macro": "@ptLatestVal.ht",
      "contexts": [
        "Used in <text> for height field",
        "TEXT_FIELD_NUMERIC for Height"
      ]
    },
    {
      "macro": "@ptHn",
      "contexts": [
        "Used in <text> for TEXT_FIELD Hn",
        "Used in <text> for health card number."
      ]
    },
    {
      "macro": "@ptHomePhone",
      "contexts": []
    },
    {
      "macro": "@ptProvince",
      "contexts": [
        "Used as <text> for province (MENU)"
      ]
    },
    {
      "macro": "@ptCpp.tx",
      "contexts": [
        "TEXT_AREA for Treatments",
        "TEXT_AREA for Treatments"
      ]
    },
    {
      "macro": "@ptAddress2",
      "contexts": [
        "Used as <text> for address line 2"
      ]
    },
    {
      "macro": "@ptCpp.soc",
      "contexts": [
        "TEXT_AREA for Social History",
        "TEXT_AREA for Social History"
      ]
    },
    {
      "macro": "@ptBusinessPhone",
      "contexts": []
    },
    {
      "macro": "@ptSecondName",
      "contexts": []
    },
    {
      "macro": "@ptPreferredName",
      "contexts": []
    },
    {
      "macro": "@ptAge",
      "contexts": [
        "Used in TEXT_FIELD_NUMERIC to autofill patient age.",
        "Used in <text> for age field."
      ]
    },
    {
      "macro": "@ptBusinessExt",
      "contexts": []
    },
    {
      "macro": "@ptLatestVal.egfr",
      "contexts": [
        "Used in <text> of TEXT_FIELD to display latest eGFR value.",
        "Used in <text> for eGFR field."
      ]
    },
    {
      "macro": "@ptExternalRef",
      "contexts": [
        "Used in FORMULA item to display patient identifier.",
        "Used in <text> for TEXT_FIELD to display external patient reference."
      ]
    },
    {
      "macro": "@ptLatestVal.a1c",
      "contexts": [
        "Used in <text> for HbA1c field."
      ]
    },
    {
      "macro": "@ptLatestDate.cr",
      "contexts": [
        "Used in TEXT_FIELD for creatinine results.",
        "Used in <text> for lab date fields."
      ]
    }
  ],
  "acceptance_checks": [
    "showIf/makeNoteIf reference defined refs; expressions are valid JS.",
    "No '|' in <choice @val>.",
    "FORMULA items include @formula and reference defined refs.",
    "MENU and MENU_MULTI_SELECT have >= 2 <choice>.",
    "Every <item> has unique @ref matching [A-Za-z0-9_]+.",
    "Top-level section uses subcategory=\"QUESTIONNAIRE\".",
    "All items must have a <c> label.",
    "multiPage must be set to false.",
    "All items must have a ref and a <c> label.",
    "All FORMULA items must have a formula attribute.",
    "No validators or hints are used anywhere.",
    "No MENU, MENU_MULTI_SELECT, or NUMERIC_SCALE items should be present.",
    "MENU items must have at least 2 choices.",
    "Section and item refs should follow the observed naming conventions.",
    "Section structure must include a top-level section with subcategory=\"QUESTIONNAIRE\" and headerStyle=\"BOLD\".",
    "MENU and MENU_MULTI_SELECT must have at least 2 choices.",
    "All MENU and MENU_MULTI_SELECT items must have at least 2 choices.",
    "Section must use subcategory=\"QUESTIONNAIRE\" and headerStyle=\"BOLD\".",
    "Section and item refs must follow the observed naming conventions.",
    "No use of $$, pt.* variables, or ScriptUtil.* functions.",
    "MENU and MENU_MULTI_SELECT items must have at least 2 choices.",
    "multiPage should be set to false.",
    "No validators or hints should be present.",
    "All MENU items must have a <validator type=\"MANDATORY\" allowEmpty=\"false\"/>.",
    "No use of listSep, lastSep, or listSuffix.",
    "All MENU items must have a MANDATORY validator."
  ],
  "ref_naming": {
    "recipes": [
      {
        "recipe": "LowerCamelCase or snake_case for main items; section and item refs often end with a number (e.g., 1) to indicate instance; related items use a shared prefix (e.g., 'quality_described_as1', 'quality_described_as__item1').",
        "support": "1/868 (0.1%)"
      },
      {
        "recipe": "Lowercase, underscores between words, often with numeric suffix for repeated concepts or sections. For groupings, double underscores separate parent and child.",
        "support": "1/868 (0.1%)"
      },
      {
        "recipe": "refs are lowerCamelCase, often descriptive of the item's function or content",
        "support": "1/868 (0.1%)"
      },
      {
        "recipe": "Short, unique, lower_snake_case or q# for questionnaire items; section refs are descriptive or auto-generated; formula and label refs are descriptive.",
        "support": "1/868 (0.1%)"
      },
      {
        "recipe": "refs are constructed as a prefix indicating context (e.g., section or item purpose), followed by a descriptive name or autogenerated id, with underscores separating words. Section refs often end with _ocean_section.",
        "support": "1/868 (0.1%)"
      }
    ],
    "examples": [
      "q1",
      "questionnaire",
      "mainSection",
      "cigarettesPerDay",
      "score",
      "first_name",
      "worse_with__item",
      "smokes",
      "q2",
      "nddsNegs",
      "medical_history__item",
      "comments"
    ]
  }
}